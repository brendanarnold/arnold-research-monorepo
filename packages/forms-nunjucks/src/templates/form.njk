{# {% extends "base.njk" %} #}


{# {% block main %} #}
<div id="form">
  <style>
    .hidden {
      display: none;
    }
  </style>
  <form method="post" action="/submit" autocomplete="on">
  {% for component in form.components %}
    {% set viewModel = component %}
    {% if component.viewType == "Section"  %}
      {% include "section.njk" %}
    {% else %}
      {% include component.viewType + ".njk" %}
    {% endif %}
  {% endfor %}
  <button type="submit">Save</button>
  </form>
  
  <script src="/assets/bundle.js"></script>
  <script>

  const formJson = JSON.parse(`{{ form.formJson | safe }}`)

  window.tngbl.builder.fromJson(formJson).bindToPage()
  </script>
</div>
{# {% endblock %} #}
